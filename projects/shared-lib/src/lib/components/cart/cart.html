@if (false) {
    <div class="cart-page bg-light">
        <div class="cart-card mx-auto pt-2">
            <div class="bg-white">
                <button (click)="back()"><= Back</button>
                <div class="border-bottom px-3 py-2 mb-2">Products in cart</div>
                <!-- Products -->
                 @for (item of cartListData; track $index; let i=$index) {
                    <div class="cart-item d-flex align-items-center justify-content-between gap-1 border-bottom px-3 pb-2 mb-2">
                        <div class="product-image bg-light rounded" class="img-parent-container">
                             <img [src]="item.product.media.uploadedImages[0].url" alt="" class="img-container">
                        </div>
                        <div>
                             <p class="small fw-semibold mb-0">{{item.product.title}}</p>
                             <small class="fs-12 text-muted">₹{{item.product.price_data.regularPrice}}</small>
                        </div>
                         <!-- <div class="qty-stepper d-flex align-items-center bg-light rounded">
                             <button class="btn p-1">−</button>
                             <span class="mx-2">{{item.quantity}}</span>
                             <button class="btn p-1">+</button>
                         </div> -->
         
                        <div class="qty-stepper d-flex align-items-center bg-light rounded">
                            <div class="quantity">
                                    <span class="minus" (click)="decrease(item.quantity,i)">-</span>
                                    <span class="number">{{ item.quantity }}</span>
                                    <span class="plus" (click)="increase(item.quantity,i)">+</span>
                                </div>
                        </div>
         
                        <div class="fw-semibold">₹{{item.product.price_data.finalPrice}}</div>
                        <button type="button" (click)="deleteItem(item.id)">
                            Delete
                        </button>
                    </div>
                 }
            </div>
    
            <!-- Coupon -->
            <div class="d-flex justify-content-between align-items-center bg-white px-3 py-2 mt-2">
                <span class="fw-semibold">Have a coupon?</span>
                <button type="button" class="btn text-primary fw-semibold p-0" data-bs-toggle="modal" data-bs-target="#couponModal">Apply</button>
            </div>
    
            <!-- Bill details -->
            <div class="bg-white px-3 py-2 mt-2">
                <p class="fw-semibold mb-2">Bill details</p>
                <div class="d-flex justify-content-between mb-1"><span>Items total</span><span>₹{{grandTotal}}</span></div>
                <div class="d-flex justify-content-between mb-1"><span>Delivery charge</span><span>₹40</span></div>
                <div class="d-flex justify-content-between mb-1"><span>Handling fees</span><span>₹16</span></div>
                <div class="d-flex justify-content-between border-bottom pb-2 mb-2"><span>GST total</span><span>₹9</span></div>
                <div class="d-flex justify-content-between fw-semibold mb-2"><span>Grand total</span><span>₹1458</span></div>
                <div class="summary-box text-center">Total savings on this order ₹236</div>
            </div>
    
            <!-- Delivery -->
            <div class="bg-white px-3 pt-2 pb-4 mt-3">
                <div class="d-flex justify-content-between align-items-center">
                    <p class="fw-semibold mb-0">Delivering to:</p>
                    <button type="button" class="btn text-primary fw-semibold p-0" (click)="openAddressPopup()">Change</button>
                </div>
                <small class="text-muted">Address here 256, Street 65/4</small>
                <!-- Button -->
                <div class="mt-2">
                    <button class="btn btn-primary w-100">Continue to Pay</button>
                </div>
            </div>
        </div>
    </div>
}




<div class="d-flex d-sm-none align-items-center bg-light p-1">
    <button class="btn btn-light d-flex align-items-center" (click)="back()"> 
        <svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" style="height: 1.5rem; width: 1.5rem; color: black;"><path d="M15.5 19L8.5 12L15.5 5" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"></path></svg>
        <span class="d-inline-block" style="height: 24px; line-height: 24px;">Back</span>
    </button>
</div>
<!--------------- blog-tittle-section---------------->

<div class="container">
    <div class="blog-bradcrum py-4">
        <a href="/">Home</a>
        <span class="devider">/</span>
        <a href="#" class="fw-semibold">Cart</a>
    </div>
</div>


@if(loading){
    <div class="loader position-relative">
        <div class="spinner position-absolute top-50 start-50 translate-middle"></div>
    </div>
}
<!--------------- blog-tittle-section-end---------------->

<!--------------- cart-section---------------->
<section class="product-cart product footer-padding pt-0">
    <div class="container">

        <!-- Blank cart start -->
        @if(cartListData.length==0) {
            <div class="blog-item aos-init aos-animate" data-aos="fade-up">
                <div class="cart-img">
                    <img src="./images/homepage-one/empty-cart.webp" alt="">
                </div>
                <div class="cart-content">
                    <p class="content-title">Empty! You don’t Cart any Products </p>
                    <a href="/product-sidebar" class="shop-btn">Back to Shop</a>
                </div>
            </div>
        }
        <!-- Blank cart end -->

        @if(cartListData.length>0) {
            <div class="row">
                <!-- product config section start-->
                <div class="col-md-8 col-12">
                    @for (item of cartListData; track $index; let i=$index) {
                        <div class="cart-section mt-3 p-3 row">
                            <div class="col-12 col-md-3">
                                <div class="wrapper-img bg-light p-2 rounded-2">
                                    <img [src]="item.product.media.uploadedImages[0].url" alt="" class="object-fit-cover rounded-2 w-100">
                                </div>
                           </div>
                           <div class="col-12 col-md-9">
                                <div class="wrapper-content">
                                    <div class="d-flex align-items-center">
                                        <h5 class="heading text-truncate">{{item.product.title}}</h5>
                                        <button class="lh-0 btn cancel-btn" (click)="deleteItem(item.id)">
                                            <svg width="10" height="10" viewbox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M9.7 0.3C9.3 -0.1 8.7 -0.1 8.3 0.3L5 3.6L1.7 0.3C1.3 -0.1 0.7 -0.1 0.3 0.3C-0.1 0.7 -0.1 1.3 0.3 1.7L3.6 5L0.3 8.3C-0.1 8.7 -0.1 9.3 0.3 9.7C0.7 10.1 1.3 10.1 1.7 9.7L5 6.4L8.3 9.7C8.7 10.1 9.3 10.1 9.7 9.7C10.1 9.3 10.1 8.7 9.7 8.3L6.4 5L9.7 1.7C10.1 1.3 10.1 0.7 9.7 0.3Z" fill="#AAAAAA"></path>
                                            </svg>
                                        </button>
                                    </div>
                                    <ul>
                                        <li class="counter d-flex align-items-center mt-3">
                                            <span class="fw-semibold config-title">Quantity</span>
                                            <div class="rounded-2 counter d-flex align-items-center mt-1 border">
                                                <button class="minus btn px-3 py-2 rounded-start rounded-end-0 lh-0" 
                                                (click)="decrease(item.quantity,i)">-</button>
                                                <span class="number fw-500 px-2">{{ item.quantity }}</span>
                                                <button class="plus btn px-3 py-2 rounded-end rounded-start-0 lh-0" 
                                                (click)="increase(item.quantity,i)">+</button>
                                            </div>
                                        </li>
                                        <li class="mt-3">
                                            <span class="fw-semibold d-inline-block config-title">price</span>
                                            <span>₹{{item.product.price_data.finalPrice}}</span>
                                        </li>
                                        <li class="mt-3" *ngIf="item.quantity > 1">
                                            <span class="d-inline-block fw-semibold config-title">Unit price</span>
                                            <span class="">₹{{item.product.price_data.regularPrice}}</span>
                                        </li>
                                    </ul>
                                </div>
                           </div>
                        </div>
                    }
                </div>  
                <!-- product config section end-->      


                <!-- order summary section start -->
                <div class="col-md-4 col-12">
                    <div class="border p-3 mt-3 rounded mt-3">
                        <!-- Coupon -->
                        <div class="d-flex justify-content-between align-items-center bg-white px-3 py-2 mt-2">
                            <span class="fw-semibold fs-4">Have a coupon?</span>
                            <button type="button" class="btn text-primary fw-semibold fs-4 p-0" data-bs-toggle="modal" data-bs-target="#couponModal">Apply</button>
                        </div>
                        <hr>
                        <!-- Bill details -->
                        <div class="bg-white px-3 py-2 mt-2">
                            <p class="fw-semibold fs-4 text-dark mb-2">Bill details</p>
                            <div class="d-flex justify-content-between mb-1"><span>Items total</span><span>₹{{grandTotal}}</span></div>
                            <!-- <div class="d-flex justify-content-between mb-1"><span>Delivery charge</span><span>₹40</span></div>
                            <div class="d-flex justify-content-between mb-1"><span>Handling fees</span><span>₹16</span></div>
                            <div class="d-flex justify-content-between border-bottom pb-2 mb-2"><span>GST total</span><span>₹9</span></div>
                            <div class="d-flex justify-content-between fw-semibold mb-2"><span>Grand total</span><span>₹1458</span></div>
                            <div class="summary-box text-center">Total savings on this order ₹236</div> -->
                        </div>
                        
                        <hr>
                        <!-- Delivery -->
                        <div class="bg-white px-3 pt-2 pb-4 mt-3">
                            <div class="d-flex justify-content-between align-items-center">
                                <p class="fw-semibold fs-4 text-dark mb-0">Delivering to:</p>
                                <button type="button" class="btn text-primary fw-semibold p-0 fs-4" (click)="openAddressPopup()">Change</button>
                            </div>
                            <!-- <small class="text-muted">Address here 256, Street 65/4</small> -->
                            <!-- Button -->

                            <!-- <div class="mt-2">
                                <button class="btn btn-primary w-100">Continue to Pay</button>
                            </div> -->
                        </div>

                        <div class="wishlist-btn cart-btn">
                            <!-- <a href="empty-cart.html" class="clean-btn">Clear Cart</a> -->
                            <!-- <a href="#" class="shop-btn update-btn">Update Cart</a> -->
                            <a [href]="isLoggedIn?'/checkout':'/login'" class="shop-btn w-100">Proceed to Checkout</a>
                        </div>
                    </div>
                    <!-- order summary section end -->                
                </div>
            </div>
        }
    </div>
</section>
<!--------------- cart-section-end---------------->

<!-- Modal -->
<div class="modal fade" id="couponModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="couponModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header py-4">
                <button type="button" class="btn-close text-primary" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-center">
                <!-- <p class="position-relative bg-white rounded-circle mx-auto">
                    <img src="assets/images/svg/coupon.svg" alt="" style="filter: drop-shadow(0 11px 15px);">
                </p> -->
                <h4 class="text-primary">Coupon applied!</h4>     
                <p class="fs-12 text-muted">KDVND6565FDVDSDF</p>
                <div class="alert alert-success mb-0" role="alert">
                    <p class="fw-semibold text-success mb-0">Saved ₹652</p>
                    <span class="fs-12">You have saved total ₹652 on this order!</span>
                </div>
            </div>
            <div class="modal-footer border-0">
                <!-- <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button> -->
                <button type="button" class="btn fw-semibold shop-btn w-100 py-3 fs-4">Okay!</button>
            </div>
        </div>
    </div>
</div>