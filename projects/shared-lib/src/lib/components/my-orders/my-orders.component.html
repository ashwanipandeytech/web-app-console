
@if(isLoading){
<div class="loader position-relative">
  <div class="spinner position-absolute top-50 start-50 translate-middle spinner-border-sm"></div>
</div>
}
<div class="order-container px-3 px-md-0">
  @for (item of orderListData; track $index) {
  <div
    class="border rounded mb-3 p-3 row wrapper cursor-pointer"
    data-bs-toggle="modal"
    data-bs-target="#orderDetail"
    (click)="getOrderDetailData(item.items)"
  >
    <div class="col-2">
      <div class="wrapper-img bg-light p-2 rounded-2">
        <img
          [src]="item?.items[0]?.product?.media?.uploadedImages[0]?.url"
          alt=""
          class="object-fit-contain rounded-2 w-100"
        />
      </div>
    </div>

    <div class="col-10">
      <div class="wrapper-content">
        <div class="d-flex align-items-center">
          <h5 class="heading text-truncate text-capitalize">{{ item?.items[0].product.title }}</h5>
          <!-- <button class="lh-0 btn cancel-btn" data-bs-toggle="modal" data-bs-target="#removeProject">
                                <i class="fa-solid fa-trash fa-xl" (click)="deleteMyOrder(item.id)"></i>
                            </button> -->
        </div>
        <ul>
          <li class="my-md-2 mt-0">
            <span class="fw-semibold d-inline-block config-title">price</span>
            <span>₹{{ item.total_amount }}</span>
          </li>
        </ul>

        <p class="text-muted fs-14 fw-bold">Delivery expected by Jan 05</p>

        <button type="button" class="icon-link icon-link-hover text-primary mt-3">
          Order detail
          <svg xmlns="http://www.w3.org/2000/svg" class="bi" viewBox="0 0 16 16" aria-hidden="true">
            <path
              d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"
            />
          </svg>
        </button>
      </div>
    </div>
  </div>
  }
  <app-no-data
    *ngIf="!orderListData || orderListData.length === 0"
    title="No Orders Found"
    message="There are no data available right now."
    [showAction]="false"
    actionText="Reload"
  >
  </app-no-data>
</div>

<!-- Delete product Modal -->
<!-- <div #deleteorder class="modal fade" id="removeProject" tabindex="-1" aria-labelledby="removeProjectLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header py-2">
        <h1 class="modal-title " id="removeProjectLabel">Remove product</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Remove product from your order history - sure?
      </div>
      <div class="modal-footer border-0">
        <button type="button" class="btn btn-secondary fs-4" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="shop-btn fs-4 py-2 px-3 my-0 ms-3" (click)="deleteOrder()">Remove</button>
      </div>
    </div>
  </div>
</div> -->

<!-- Correct loop
 Grand total
 paymrnt method
 deliver date -->

<!-- Order detail Modal -->
<div
  #orderDetail
  class="modal fade"
  id="orderDetail"
  tabindex="-1"
  aria-labelledby="orderDetailLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header py-2">
        <h1 class="modal-title fs-5" id="orderDetailLabel">Order detail</h1>
        <button type="button" class="close-btn" data-bs-dismiss="modal" aria-label="Close">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>
      <div class="modal-body px-lg-4">
        <div class="order-container d-flex flex-column gap-3">
          @for (item of orderDetailList; track $index) { @if (item.product !=null) {

          <div class="border rounded p-3 wrapper">
            <div class="row">
              <div class="col-2">
                <div class="wrapper-img bg-light p-2 rounded-2">
                  <img
                    [src]="item.product.media?.uploadedImages[0]?.url"
                    alt=""
                    class="object-fit-contain rounded-2 w-100"
                    style="height: 40px"
                  />
                </div>
              </div>

              <div class="col-10">
                <div class="wrapper-content">
                  <div class="d-flex align-items-center">
                    <h5 class="heading text-truncate">{{ item?.product.title }}</h5>
                  </div>
                  <ul>
                    <li class="mt-md-2 mt-0">
                      <span class="fw-semibold d-inline-block config-title">price</span>
                      <span>₹{{ item.price }}</span>
                    </li>
                  </ul>

                  <div>
                    <!-- <button type="button" class="btn shop-btn px-3 py-2 fs-5">Re-order</button> -->
                    <button
                      type="button"
                      class="icon-link icon-link-hover text-primary mt-3"
                      (click)="addToCart(item)"
                    >
                      Add to Cart
                      <svg
                        _ngcontent-ng-c3478470960=""
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 16 16"
                        aria-hidden="true"
                        class="bi"
                      >
                        <path
                          _ngcontent-ng-c3478470960=""
                          d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"
                        ></path>
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="card border-0 shadow-sm p-3">
            <h6 class="fw-semibold mb-3 d-flex align-items-center">
              Delivery details
              <a class="icon-link icon-link-hover text-primary ms-auto fs-14 fw-normal" href="#">
                Cancel Order
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="bi"
                  viewBox="0 0 16 16"
                  aria-hidden="true"
                >
                  <path
                    d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"
                  />
                </svg>
              </a>
            </h6>

            <div class="rounded-3 p-3" style="background-color: #f1f2f7">
              <!-- Address -->
              <div class="d-flex align-items-start mb-3">
                <i class="fa-solid fa-location-dot me-2"></i>
                <span class="fw-medium text-dark small"> Other Noida, greater noida, Delhi </span>
              </div>

              <!-- User -->
              <div class="d-flex align-items-center">
                <i class="fa-regular fa-user me-2"></i>
                <span class="fw-medium text-dark small">
                  Kumar Kumar <span class="text-muted ms-1">7292033463</span>
                </span>
              </div>
            </div>
          </div>

          <div class="card border-0 shadow-sm p-3">
            <h6 class="fw-semibold mb-3 d-flex align-items-center">
              Rate your experience
              <a class="icon-link icon-link-hover text-primary ms-auto fs-14 fw-normal" href="#">
                Rate Us
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="bi"
                  viewBox="0 0 16 16"
                  aria-hidden="true"
                >
                  <path
                    d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"
                  />
                </svg>
              </a>
            </h6>

            <div class="rounded-3 p-3" style="background-color: #f1f2f7">
              <!-- Address -->
              <div class="d-flex align-items-start">
                <i class="fa-solid fa-truck me-3"></i>
                <span class="fw-medium text-dark small"> How was your experience </span>
              </div>
            </div>
          </div>

          } }
        </div>
      </div>
      <!-- <div class="modal-footer border-0">
        <button type="button" class="shop-btn" data-bs-dismiss="modal">Close</button>
      </div> -->
    </div>
  </div>
</div>
