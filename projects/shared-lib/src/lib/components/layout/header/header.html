<!--------------- header-section --------------->
<!-- <header id="header" class="header">
  <div class="header-center-section d-flex py-lg-4">
    <div class="container">
      <div class="header-center py-2">
        <div class="logo">
          <a routerLink="/">
            <img
              src="../images/logos/top-logo.png"
              alt="logo"
              class="d-none d-lg-inline-block img-fluid"
            />
            <img src="../images/logos/logo.webp" alt="logo" class="d-lg-none" />
          </a>
        </div>

        <div class="header-cart-items gap-4">
          <div class="header-cart">
            <ng-container *ngTemplateOutlet="cart"></ng-container>
          </div>

          <div class="header-user">
            <ng-container *ngTemplateOutlet="userProfile"></ng-container>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="header-bottom d-lg-block d-none sticky-top">
    <div class="container">
      <div class="header-nav">
        <div class="header-nav-menu-section flex-grow-1">
          <div class="dropdown category-menu-section position-relative">            
            <button
              type="button"
              class="dropdown-btn"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              <span class="dropdown-icon">
                <svg
                  width="14"
                  height="9"
                  viewbox="0 0 14 9"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect width="14" height="1"></rect>
                  <rect y="8" width="14" height="1"></rect>
                  <rect y="4" width="10" height="1"></rect>
                </svg>
                <span class="list-text"> All Categories </span>
              </span>
              <span>
                <svg
                  width="9"
                  height="5"
                  viewbox="0 0 9 5"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect
                    x="8.18359"
                    y="0.910156"
                    width="5.78538"
                    height="1.28564"
                    transform="rotate(135 8.18359 0.910156)"
                    fill="#1D1D1D"
                  ></rect>
                  <rect
                    x="4.08984"
                    y="5"
                    width="5.78538"
                    height="1.28564"
                    transform="rotate(-135 4.08984 5)"
                    fill="#1D1D1D"
                  ></rect>
                </svg>
              </span>
            </button>
            <ul
              class="dropdown-menu category-list w-100 rounded-0 border-0"
              style="top: -2px !important"
            >
              @for (item of categoryListData; track $index) {

              <li class="category-list-item">
                <a (click)="gotoCategory(item.id)" style="cursor: pointer">
                  <div class="dropdown-item d-flex justify-content-between align-items-center">
                    <div class="dropdown-list-item d-flex">
                      <span class="dropdown-img">
                        <img src="" alt="" />
                      </span>
                      <span class="dropdown-text">
                        {{ item.name }}
                      </span>
                    </div>
                    <div class="drop-down-list-icon">
                      <span>
                        <svg
                          width="10"
                          height="10"
                          viewbox="0 0 6 9"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <rect
                            x="1.5"
                            y="0.818359"
                            width="5.78538"
                            height="1.28564"
                            transform="rotate(45 1.5 0.818359)"
                          ></rect>
                          <rect
                            x="5.58984"
                            y="4.90918"
                            width="5.78538"
                            height="1.28564"
                            transform="rotate(135 5.58984 4.90918)"
                          ></rect>
                        </svg>
                      </span>
                    </div>
                  </div>
                </a>
              </li>
              }
            </ul>
          </div>

          <div class="header-nav-menu flex-grow-1">
            <ul class="menu-list">
              @for (item of categoryListData; track $index) {

              <li>
                <a (click)="gotoCategory(item.id)" class="nav-link px-4" style="cursor: pointer">
                  <span class="list-text ">{{ item.name }}</span>
                </a>
              </li>
              }

            </ul>
          </div>
        </div>

        <a href="/contact-us" class="shop-btn px-4 py-3">Bulk Order</a>
      </div>
    </div>
  </div>

  <div class="d-block d-sm-none bg-primary px-3 py-2">
    <div class="dropdown">
      <button class="btn text-white dropdown-toggle" type="button" (click)="openAddressPopup()">
        Address here 256, Street 65/4
      </button>
    </div>

    <div class="search-bar">
      <input type="text" class="form-control" placeholder="Search" />
    </div>
  </div>
</header> -->
<!--------------- header-section-end --------------->

<!-- HEADER -->
<nav class="navbar navbar-expand-lg border-bottom bg-white py-2">
  <div class="container-fluid align-items-center gap-lg-4 gap-1 flex-nowrap">

    <!-- Logo -->
    <a routerLink="/">
      <img
        src="../images/logos/top-logo.png"
        alt="logo"
        class="d-none d-lg-inline-block img-fluid"
      />
      <img src="../images/logos/logo.webp" alt="logo" class="d-lg-none" />
    </a>

    <!-- Location -->
    <div class="dropdown">
      <button class="btn text-nowrap btn-link text-dark text-decoration-none fs-14 fw-bold text-truncate" data-bs-toggle="dropdown" (click)="openAddressPopup('header')" style="max-width: 140px;">
        {{currentAddress}}
        @if(!currentAddress){
          <span> Select Location</span>
          <i class="fa-solid fa-chevron-down fa-sm ms-1 align-middle"></i>
        }
      </button>
    </div>

    <!-- Search -->
    <!-- <form class="flex-grow-1 d-none d-lg-block"> -->
      <div class="input-group">
        <span class="input-group-text bg-white">
          <i class="fa-solid fa-magnifying-glass"></i>
        </span>
        <input
          type="text"
          class="form-control border-start-0 ps-0 fw-semibold"
          placeholder="Search for “cow”"
           [(ngModel)]="searchText"
           (keyup.enter)="searchCategory()"
        />
      </div>
    <!-- </form> -->

    <!-- Right Icons -->
    <div class="d-flex align-items-center gap-4">
      <div class="text-center small cursor-pointer">
       <ng-container *ngTemplateOutlet="userProfile"></ng-container>
      </div>
      <div class="text-center small cursor-pointer">
        <ng-container *ngTemplateOutlet="cart"></ng-container>
      </div>
    </div>

  </div>
</nav>

<!-- CATEGORY BAR -->
<div class="border-bottom bg-white">
  <div class="container-fluid d-flex py-0 align-items-center">
    <ul class="nav category-nav gap-4 flex-nowrap overflow-auto">
       @for (item of categoryListData; track $index) {
        <!-- <pre>{{categoryListData | json}}</pre> -->
        <li class="nav-item">
          <a  [routerLink]="['/category-details', item.id]" routerLinkActive="active" class="nav-link fs-18 cursor-pointer fw-semibold d-flex align-items-center">
            <img src="{{item.thumbnail}}" alt="catImg" width="24px" height="24px" class="me-1">
            {{ item.name }}
          </a>
        </li>
        }
    </ul>
     <!-- <a href="/contact-us" class="shop-btn ms-auto lh-lg">Bulk Order</a> -->
  </div>
</div>

<ng-template #cart>
  <a routerLink="/cart" class="cart-item position-relative icon-menu">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shopping-cart-icon lucide-shopping-cart"><circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"/></svg>
    <span class="fs-13 d-block">Cart</span>

    @if(countsList?.cart_count > 0) {
      <i class="icon-badge position-absolute fs-12 text-center text-white bg-primary rounded-circle">{{
        countsList?.cart_count
      }}</i>
    }
  </a>
</ng-template>

<ng-template #userProfile>
  @if(!isLoggedIn){
  <a class="icon-menu" (click)="openLogin()">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-round-icon lucide-user-round"><circle cx="12" cy="8" r="5"/><path d="M20 21a8 8 0 0 0-16 0"/></svg>
     <span class="fs-13 d-block">Login</span>
  </a>
  } @if(isLoggedIn) {
  <div class="dropdown user-account icon-menu">
    <button class="btn p-0" type="button" data-bs-toggle="dropdown" aria-expanded="false">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-round-check-icon lucide-user-round-check"><path d="M2 21a8 8 0 0 1 13.292-6"/><circle cx="10" cy="8" r="5"/><path d="m16 19 2 2 4-4"/></svg>
      <span class="fs-13 d-block">Profile</span>
    </button>
    <ul
      class="dropdown-menu dropdown-menu-end bg-white border-0 shadow rounded-3 pt-0"
      style="z-index: 9999"
    >
      <li class="text-nowrap px-3 py-2 fw-semibold bg-light fs-14 mb-2">Hello, {{ userName }}</li>
      <!-- Active class would be  bg-primary text-white -->
      <li class="mb-1">
        <a
          class="dropdown-item px-3 py-2 fs-14"
          [routerLink]="['/user-profile']"
          [queryParams]="{ key: 'account' }"
          >
          <span><i class="fa-solid fa-lg opacity-75 fa-user-tie"></i></span>My Account</a
        >
      </li>
      <li class="mb-1">
        <a
          class="dropdown-item px-3 py-2 fs-14"
          [routerLink]="['/user-profile']"
          [queryParams]="{ key: 'myorders' }"
          ><span><i class="fa-solid fa-lg opacity-75 fa-bag-shopping"></i></span>My Order</a
        >
      </li>
      <li class="mb-1">
        <a
          class="dropdown-item px-3 py-2 fs-14"
          [routerLink]="['/user-profile']"
          [queryParams]="{ key: 'wishlist' }"
          ><span><i class="fa-solid fa-lg opacity-75 fa-heart"></i></span>Wishlist
          @if(countsList?.wishlist_count > 0) {
          <span class="badge text-bg-primary ms-2">{{ countsList?.wishlist_count }}</span>
          }</a
        >
      </li>
      <li class="mb-1">
        <a
          class="dropdown-item px-3 py-2 fs-14"
          [routerLink]="['/user-profile']"
          [queryParams]="{ key: 'address' }"
          ><span><i class="fa-solid fa-lg opacity-75 fa-house"></i></span> Address</a
        >
      </li>
      <li>
        <a class="dropdown-item px-3 py-2 fs-14 cursor-pointer" (click)="logout()"
          ><span><i class="fa-solid fa-lg opacity-75 fa-arrow-right-from-bracket"></i></span
          >Logout</a
        >
      </li>
    </ul>
  </div>
  }
</ng-template>

<!-- General Settings -->
<!-- <pre> {{this.dataService.getAllGeneralSettings() | json}} </pre> -->

<!-- Specific General Settings -->

<!-- <pre> {{this.dataService.getSpecificGeneralSettings('general') | json}} </pre>


<pre> {{this.dataService.getSpecificGeneralSettings('home_Banner_Slider') | json}} </pre>


<pre> {{this.dataService.getSpecificGeneralSettings('home_Promo_Slider') | json}} </pre>


<pre> {{this.dataService.getSpecificGeneralSettings('social') | json}} </pre>


<pre> {{this.dataService.getSpecificGeneralSettings('contacts') | json}} </pre>

<pre> {{this.dataService.getSpecificGeneralSettings('footer') | json}} </pre> -->
