@if(isLoading){
<div class="loader d-flex align-items-center justify-content-center">
  <div class="spinner-border spinner-border-lg text-primary" role="status"></div>
</div>
}

@if(!isLoading){
  <div class="top-section d-flex align-items-center border-bottom pb-1 mb-4 px-3 px-md-0">
    <h3>Personal Detail</h3>
    <button type="button" class="hover-underline text-primary ms-auto" (click)="toggleEdit()">{{ isEditMode ? 'Cancel' : 'Edit' }}
</button>
  </div>
  <form [formGroup]="profileForm" (ngSubmit)="submitForm()">
    <div class="row">
      <div class="col-12">
        <div class="account-section" [ngClass]="{disabled: !isEditMode}">
          <div class="review-form w-100">
            <div class="account-inner-form">
              <div class="review-form-name mb-3">
                <label class="form-label fw-semibold">First Name*</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="First Name"
                  formControlName="firstName"
                />
              </div>
  
              <div class="review-form-name mb-3">
                <label class="form-label fw-semibold">Last Name*</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="Last Name"
                  formControlName="lastName"
                />
              </div>
            </div>
  
            <div class="account-inner-form">
              <div class="review-form-name mb-3">
                <label class="form-label fw-semibold">Email*</label>
                <input
                  type="email"
                  class="form-control"
                  placeholder="user@gmail.com"
                  formControlName="email"
                  readonly="true"
                />
              </div>
  
              <div class="review-form-name mb-3">
                <label class="form-label fw-semibold">Phone*</label>
                <input
                  type="number"
                  class="form-control"
                  placeholder="+91 **********"
                  formControlName="phone"
                />
                @if(phone?.errors?.['pattern'] && phone?.touched){
                <div class="text-danger mt-1">Enter a valid 10-digit phone number.</div>
                }
              </div>
            </div>
  
            <!-- <div class="account-inner-form d-none" >
            
              <div class="review-form-name mb-3">
                <label class="form-label fw-semibold">Address*</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="Enter your Address"
                  formControlName="address"
                />
              </div>
            </div> -->
  
            <!-- <div class="account-inner-form city-inner-form  d-none">
              <div class="review-form-name mb-3">
                <label class="form-label fw-semibold">Town / City*</label>
                <select id="city" class="form-select" formControlName="city">
                  <option value="">Choose...</option>
                  @for(city of cities; track $index){
                  <option [value]="city">{{ city }}</option>
                  }
                </select>
              </div>
  
              <div class="review-form-name mb-3">
                <label class="form-label fw-semibold">Postcode / ZIP*</label>
                <input
                  type="number"
                  class="form-control"
                  placeholder="0000"
                  formControlName="postcode"
                />
                @if(postcode?.errors?.['pattern'] && postcode?.touched){
                <div class="text-danger position-absolute">Enter a valid postal code.</div>
                }
              </div>
            </div> -->
  
            <div class="submit-btn">
              <!-- <button type="button" class="shop-btn cancel-btn">Cancel</button> -->
               @if (isEditMode) {
                <button type="submit" class="shop-btn update-btn">Save</button>
               }
            </div>
          </div>
        </div>
      </div>
  
      <!-- upload profile pic  -->
      <!-- <div class="col-lg-5">
        <div class="img-upload-section">
          <div class="logo-wrapper">
            <h5 class="comment-title">Update Logo</h5>
            <p class="paragraph">Size 300x300. GIFs work too. Max 5mb.</p>
  
            <div class="logo-upload">
              <img src="../images/homepage-one/upload.webp" class="upload-img" id="upload-img">
              <div class="upload-input">
                <label for="input-file">
                  <span>üìÅ</span>
                </label>
                <input type="file" id="input-file" accept="image/*" (change)="onFileChange($event)">
              </div>
            </div>
  
          </div>
        </div>
      </div> -->
    </div>
  </form>
}
