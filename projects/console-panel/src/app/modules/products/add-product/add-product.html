<!-- header start -->
<app-header></app-header>
<!-- header end -->

<!-- main sidebar start -->
<app-sidebar></app-sidebar>
<!-- main sidebar end -->

<!-- main content start -->
<div class="main-content">
  <form [formGroup]="productMultipleOptionForm" (ngSubmit)="submitProductMultipleOptionForm()">
    <div class="breadcrumb mb-30">
        <h2>Add New Product</h2>
        <div class="btn-box">
            <a href="all-product.html" class="btn btn-sm btn-primary">View All</a>
        </div>
    </div>
    <div class="row g-4">
        <div class="col-xxl-9 col-lg-8">
            <form [formGroup]="productDetails" (ngSubmit)="addProductDetails()">
            <div class="panel mb-30">
                <div class="panel-body product-title-input">
                    <label class="form-label">Write Title</label>
                    <input type="text" formControlName="productTitle" class="form-control" id="productTitle" placeholder="Title for product">
                    <p class="perma-txt" hidden>
                        Permalink: <span data-link="https://example.com/" class="site-link text-primary" id="productPermalink">https://example.com/</span>
                        <input type="text" class="form-control form-control-sm" hidden id="editPermalink">
                        <button class="btn-flush bg-primary" id="editPermaBtn">Edit</button>
                        <button class="btn-flush bg-success" id="createPerma" hidden>OK</button>
                        <button class="btn-flush bg-danger" id="cancelPerma" hidden>Cancel</button>
                    </p>
                </div>
            </div>
            <div class="panel mb-30">
                <div class="panel-header">
                    <h5>Product Description</h5>
                    <div class="btn-box d-flex gap-2">
                        <button class="btn btn-sm btn-icon btn-outline-primary"><i class="fa-light fa-arrows-rotate"></i></button>
                        <button class="btn btn-sm btn-icon btn-outline-primary panel-close"><i class="fa-light fa-angle-up"></i></button>
                    </div>
                </div>
                <!-- formControlName="productDescription" -->
                 <!-- quill editor  -->
                    <quill-editor formControlName="productDescription">
                    </quill-editor>
                <!-- <div class="panel-body">
                    <div class="editor"></div>
                </div> -->
            </div>
            <!-- <button (click)="getProductDetails()">submit changes</button> -->
 </form>
 


            <div class="panel mb-30">
            <form [formGroup]="productOptionData" (ngSubmit)="productOptionType()">
                <div class="panel-header">
                    <h5>Product Data</h5>
                    <div class="panel-header-right">
                        <div class="form-check d-flex gap-4">
                            <div class="form-check">
                                <input class="form-check-input" formControlName="generalProductData" type="checkbox" value="" id="generalProductData">
                                <label class="form-check-label" for="generalProductData">
                                    General
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" formControlName="downloadableProductData" type="checkbox" value="" id="DownloadableProductData">
                                <label class="form-check-label" for="DownloadableProductData">
                                    Downloadable
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="btn-box d-flex gap-2">
                        <button class="btn btn-sm btn-icon btn-outline-primary"><i class="fa-light fa-arrows-rotate"></i></button>
                        <button class="btn btn-sm btn-icon btn-outline-primary panel-close"><i class="fa-light fa-angle-up"></i></button>
                    </div>
                </div>
            </form>


<div class="panel-body">
    <nav>
      <div class="btn-box d-flex flex-wrap gap-1 mb-30" id="nav-tab" role="tablist">
        <button class="btn btn-sm btn-outline-primary active" id="nav-media-tab" data-bs-toggle="tab" data-bs-target="#nav-media" type="button" role="tab" aria-controls="nav-media" aria-selected="true">Media</button>
        <button class="btn btn-sm btn-outline-primary" id="nav-inventory-tab" data-bs-toggle="tab" data-bs-target="#nav-inventory" type="button" role="tab" aria-controls="nav-inventory" aria-selected="false">Inventory</button>
        <button class="btn btn-sm btn-outline-primary" id="nav-price-tab" data-bs-toggle="tab" data-bs-target="#nav-price" type="button" role="tab" aria-controls="nav-price" aria-selected="false">Price</button>
        <button class="btn btn-sm btn-outline-primary" id="nav-attribute-tab" data-bs-toggle="tab" data-bs-target="#nav-attribute" type="button" role="tab" aria-controls="nav-attribute" aria-selected="false">Attribute</button>
        <button class="btn btn-sm btn-outline-primary" id="nav-shipping-info-tab" data-bs-toggle="tab" data-bs-target="#nav-shipping-info" type="button" role="tab" aria-controls="nav-shipping-info" aria-selected="false">Shipping info</button>
        <button class="btn btn-sm btn-outline-primary" id="nav-video-tab" data-bs-toggle="tab" data-bs-target="#nav-video" type="button" role="tab" aria-controls="nav-video" aria-selected="false">Video</button>
        <button class="btn btn-sm btn-outline-primary" id="nav-shipping-configuration-tab" data-bs-toggle="tab" data-bs-target="#nav-shipping-configuration" type="button" role="tab" aria-controls="nav-shipping-configuration" aria-selected="false">Shipping Configuration</button>
        <button class="btn btn-sm btn-outline-primary" id="nav-offer-tab" data-bs-toggle="tab" data-bs-target="#nav-offer" type="button" role="tab" aria-controls="nav-offer" aria-selected="false">Offer</button>
      </div>
    </nav>
    <div class="tab-content product-data-tab" id="nav-tabContent">
      <!-- Media Tab -->
      <div class="tab-pane fade show active" id="nav-media" role="tabpanel" aria-labelledby="nav-media-tab" tabindex="0">
        <div class="row">
          <div class="col-xxl-3 col-md-4 col-5 col-xs-12">
            <div class="add-thumbnail product-image-upload">
              <div class="part-txt">
                <h5>Add thumbnail <span>(jpeg/png)</span></h5>
              </div>
              <input type="text" class="image-input" formControlName="thumbUpload" id="thumbUpload">
            </div>
          </div>
          <div class="col-xxl-9 col-md-8 col-7 col-xs-12">
            <div class="add-gallery-img product-image-upload">
              <div class="part-txt">
                <h5>Add gallery <span>(jpeg/png)</span></h5>
              </div>
              <input type="text" class="image-input" formControlName="galleryUpload" id="galleryUpload">
            </div>
          </div>
        </div>
      </div>
      <!-- Inventory Tab -->
      <div class="tab-pane fade" id="nav-inventory" role="tabpanel" aria-labelledby="nav-inventory-tab" tabindex="0">
        <div class="row align-items-center g-3 mb-3">
          <label class="col-md-2 col-form-label col-form-label-sm">SKU <span class="btn-flush fs-14" data-bs-toggle="tooltip" data-bs-custom-class="custom-tooltip" data-bs-title="Lorem Ipsum is simply dummy text of the printing and typesetting industry."><i class="fa-solid fa-circle-question"></i></span></label>
          <div class="col-md-10">
            <input type="text" class="form-control form-control-sm" formControlName="sku" id="SKU">
          </div>
        </div>
        <div class="row align-items-center g-3 mb-3">
          <label class="col-md-2 col-form-label col-form-label-sm">Manage Stock?</label>
          <div class="col-md-10">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" formControlName="manageStock" id="manageStock">
              <label class="form-check-label" for="manageStock">
                Manage stock level (quantity)
              </label>
            </div>
          </div>
        </div>
        <div class="row align-items-center g-3 mb-3">
          <label class="col-md-2 col-form-label col-form-label-sm">Stock Status <span class="btn-flush fs-14" data-bs-toggle="tooltip" data-bs-custom-class="custom-tooltip" data-bs-title="Lorem Ipsum is simply dummy text of the printing and typesetting industry."><i class="fa-solid fa-circle-question"></i></span></label>
          <div class="col-md-10">
            <select class="form-control form-control-sm" formControlName="stockStatus">
              <option value="0">In stock</option>
              <option value="1">Out of stock</option>
              <option value="2">On backorder</option>
            </select>
          </div>
        </div>
        <div class="row align-items-center g-3 mb-3">
          <label class="col-md-2 col-form-label col-form-label-sm">Sold individually <span class="btn-flush fs-14" data-bs-toggle="tooltip" data-bs-custom-class="custom-tooltip" data-bs-title="Lorem Ipsum is simply dummy text of the printing and typesetting industry."><i class="fa-solid fa-circle-question"></i></span></label>
          <div class="col-md-10">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" formControlName="soldIndividually" id="soldIndividually">
              <label class="form-check-label" for="soldIndividually">
                Limit purchases to 1 item per order
              </label>
            </div>
          </div>
        </div>
        <div class="row align-items-center g-3 mb-3">
          <label class="col-md-2 col-form-label col-form-label-sm">Product Code <span class="btn-flush fs-14" data-bs-toggle="tooltip" data-bs-custom-class="custom-tooltip" data-bs-title="Lorem Ipsum is simply dummy text of the printing and typesetting industry."><i class="fa-solid fa-circle-question"></i></span></label>
          <div class="col-md-10">
            <input type="text" class="form-control form-control-sm" formControlName="productCode" id="productCode">
          </div>
        </div>
        <div class="row align-items-center g-3 mb-3">
          <label for="lowStockWarning" class="col-md-2 col-form-label col-form-label-sm">Low Stock Warning</label>
          <div class="col-md-10">
            <input type="number" class="form-control form-control-sm" formControlName="lowStockWarning" id="lowStockWarning">
          </div>
        </div>
        <div class="row align-items-center g-3 mb-3">
          <label for="showStockQuantity" class="col-md-2 col-8 col-form-label col-form-label-sm">Show Stock Quantity</label>
          <div class="col-md-10 col-4">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" formControlName="showStockQuantity" id="showStockQuantity">
            </div>
          </div>
        </div>
        <div class="row align-items-center g-3 mb-3">
          <label for="showStockWithText" class="col-md-2 col-8 col-form-label col-form-label-sm">Show Stock With Text</label>
          <div class="col-md-10 col-4">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" formControlName="showStockWithText" id="showStockWithText">
            </div>
          </div>
        </div>
        <div class="row align-items-center g-3">
          <label for="hideStock" class="col-md-2 col-8 col-form-label col-form-label-sm">Hide Stock</label>
          <div class="col-md-10 col-4">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" formControlName="hideStock" id="hideStock">
            </div>
          </div>
        </div>
      </div>
      <!-- Price Tab -->
      <div class="tab-pane fade" id="nav-price" role="tabpanel" aria-labelledby="nav-price-tab" tabindex="0">
        <div class="row g-3 mb-3">
          <label for="regularPrice" class="col-md-2 col-form-label col-form-label-sm">Regular Price (₹)</label>
          <div class="col-md-10">
            <input type="number" class="form-control form-control-sm" formControlName="regularPrice" id="regularPrice">
          </div>
        </div>
        <div class="row g-3 mb-3">
          <label for="salePrice" class="col-md-2 col-form-label col-form-label-sm">Discount (₹)</label>
          <div class="col-md-8">
            <input type="number" class="form-control form-control-sm" formControlName="salePrice" id="salePrice">
          </div>
          <div class="col-md-2">
            <div class="form-control-sm p-0">
              <select class="form-control form-control-sm" formControlName="discountType">
                <option value="Flat">Flat</option>
                <option value="Discount">Discount</option>
              </select>
            </div>
          </div>
        </div>
        <div class="row g-3">
          <label for="PriceDateStart" class="col-md-2 col-form-label col-form-label-sm">Sale price dates</label>
          <div class="col-md-5">
            <input type="text" class="form-control form-control-sm dateRangePicker" formControlName="priceDateStart" id="PriceDateStart" placeholder="DD MMMM YYYY - HH:MM">
          </div>
          <div class="col-md-5">
            <input type="text" class="form-control form-control-sm dateRangePicker" formControlName="priceDateEnd" id="PriceDateEnd" placeholder="DD MMMM YYYY - HH:MM">
          </div>
        </div>
      </div>
      <!-- Shipping Info Tab -->
      <div class="tab-pane fade" id="nav-shipping-info" role="tabpanel" aria-labelledby="nav-shipping-info-tab" tabindex="0">
        <div class="row g-3 mb-3">
          <label class="col-md-2 col-form-label col-form-label-sm">Weight (kg) <span class="btn-flush fs-14" data-bs-toggle="tooltip" data-bs-custom-class="custom-tooltip" data-bs-title="Lorem Ipsum is simply dummy text of the printing and typesetting industry."><i class="fa-solid fa-circle-question"></i></span></label>
          <div class="col-md-10">
            <input type="number" class="form-control form-control-sm" formControlName="weight" id="weight" placeholder="0">
          </div>
        </div>
        <div class="row g-3 mb-3">
          <label class="col-md-2 col-form-label col-form-label-sm">Dimensions (cm) <span class="btn-flush fs-14" data-bs-toggle="tooltip" data-bs-custom-class="custom-tooltip" data-bs-title="Lorem Ipsum is simply dummy text of the printing and typesetting industry."><i class="fa-solid fa-circle-question"></i></span></label>
          <div class="col-md-10">
            <div class="row g-3">
              <div class="col-md-4">
                <input type="number" class="form-control form-control-sm" formControlName="length" id="Dimensions" placeholder="Length">
              </div>
              <div class="col-md-4">
                <input type="number" class="form-control form-control-sm" formControlName="width" placeholder="Width">
              </div>
              <div class="col-md-4">
                <input type="number" class="form-control form-control-sm" formControlName="height" placeholder="Height">
              </div>
            </div>
          </div>
        </div>
        <div class="row g-3">
          <label class="col-md-2 col-form-label col-form-label-sm">Shipping Class <span class="btn-flush fs-14" data-bs-toggle="tooltip" data-bs-custom-class="custom-tooltip" data-bs-title="Lorem Ipsum is simply dummy text of the printing and typesetting industry."><i class="fa-solid fa-circle-question"></i></span></label>
          <div class="col-md-10">
            <select class="form-control form-control-sm" formControlName="shippingClass">
              <option value="0">No Shipping Class</option>
            </select>
          </div>
        </div>
      </div>
      <!-- Other Tabs (Unmodified for brevity) -->
     <div class="tab-pane fade" id="nav-attribute" role="tabpanel" aria-labelledby="nav-attribute-tab" tabindex="0">
                            <div class="add-product-attribute">
                                <div class="form-group">
                                    <select class="form-control form-control-sm">
                                        <option value="">Custom Product Attribute</option>
                                        <option value="">Brand</option>
                                        <option value="">Color</option>
                                        <option value="">Size</option>
                                    </select>
                                    <button class="btn btn-sm btn-icon btn-primary" id="addAttr"><i class="fa-light fa-plus"></i></button>
                                </div>
                            </div>
                        </div>
      <div class="tab-pane fade" id="nav-video" role="tabpanel" aria-labelledby="nav-video-tab" tabindex="0">
        <div class="row align-items-center g-3 mb-3">
          <label class="col-md-2 col-form-label col-form-label-sm">Video Provider</label>
          <div class="col-md-10">
            <select class="form-control form-control-sm" data-placeholder="Select Provider">
              <option value="">Select Provider</option>
              <option value="0">Youtube</option>
              <option value="1">Vimeo</option>
            </select>
          </div>
        </div>
        <div class="row g-3">
          <label class="col-md-2 col-form-label col-form-label-sm">Video Link</label>
          <div class="col-md-10">
            <input type="url" class="form-control form-control-sm" name="video_link" placeholder="Video Link">
            <span class="input-additional-txt">Use proper link without extra parameter. Don't use short share link/embeded iframe code.</span>
          </div>
        </div>
      </div>

      <!-- shipping configuration  -->
      <div class="tab-pane fade" id="nav-shipping-configuration" role="tabpanel" aria-labelledby="nav-shipping-configuration-tab" tabindex="0">
        <div class="row align-items-center g-3 mb-3">
          <label for="estimateShippingTime" class="col-md-2 col-form-label col-form-label-sm">Estimate Shipping Time</label>
          <div class="col-md-10">
            <div class="input-group">
              <input type="number" formControlName="estimateShippingTime" class="form-control form-control-sm" id="estimateShippingTime">
              <span class="input-group-text">Days</span>
            </div>
          </div>
        </div>
        <div class="row align-items-center g-3 mb-3">
          <label for="freeShipping" class="col-md-2 col-8 col-form-label col-form-label-sm">Free Shipping</label>
          <div class="col-md-10 col-4">
            <div class="form-check form-switch">
              <input class="form-check-input" formControlName="freeShipping" type="checkbox" role="switch" id="freeShipping">
            </div>
          </div>
        </div>
        <div class="row align-items-center g-3 mb-3">
          <label for="flatRate" class="col-md-2 col-8 col-form-label col-form-label-sm">Flat Rate</label>
          <div class="col-md-10 col-4">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" role="switch" formControlName="flatRate" id="flatRate">
            </div>
          </div>
        </div>
        <div class="row align-items-center g-3 mb-3">
          <label for="QuantityMulitiply" class="col-md-2 col-8 col-form-label col-form-label-sm">Quantity Mulitiply</label>
          <div class="col-md-10 col-4">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" role="switch" formControlName="quantityMulitiply" id="QuantityMulitiply">
            </div>
          </div>
        </div>
        <div class="row align-items-center g-3">
          <label for="cashOnDelivery" class="col-md-2 col-8 col-form-label col-form-label-sm">Cash On Delivery</label>
          <div class="col-md-10 col-4">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" role="switch" formControlName="cashOnDelivery" id="cashOnDelivery">
            </div>
          </div>
        </div>
      </div>
      <!-- offer  -->
      <div class="tab-pane fade" id="nav-offer" role="tabpanel" aria-labelledby="nav-offer-tab" tabindex="0">
        <div class="row align-items-center g-3 mb-3">
          <label for="flashDeal" class="col-md-2 col-8 col-form-label col-form-label-sm">Flash Deal</label>
          <div class="col-md-10 col-4">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" role="switch" formControlName="flashDeal" id="flashDeal">
            </div>
          </div>
        </div>
        <div class="row align-items-center g-3 mb-3">
          <label for="todaysDeal" class="col-md-2 col-8 col-form-label col-form-label-sm">Today's Deal</label>
          <div class="col-md-10 col-4">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" role="switch" formControlName="todaysDeal"  id="todaysDeal">
            </div>
          </div>
        </div>
        <div class="row align-items-center g-3">
          <label for="featured" class="col-md-2 col-8 col-form-label col-form-label-sm">Featured</label>
          <div class="col-md-10 col-4">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" role="switch" formControlName="featured" id="featured">
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Submit Button -->
    <!-- <div class="mt-3">
      <button type="submit" class="btn btn-primary" [disabled]="productMultipleOptionForm.invalid">Submit</button>
    </div> -->
</div>
            </div>
           <div class="panel">
      <div class="panel-header">
        <h5>SEO Data</h5>
        <div class="btn-box d-flex gap-2">
          <button type="button" class="btn btn-sm btn-icon btn-outline-primary"><i class="fa-light fa-arrows-rotate"></i></button>
          <button type="button" class="btn btn-sm btn-icon btn-outline-primary panel-close"><i class="fa-light fa-angle-up"></i></button>
        </div>
      </div>
      <div class="panel-body">
        <div class="row g-3 mb-3">
          <label class="col-xxl-2 col-md-3 col-form-label col-form-label-sm pe-0">Focus keyphrase <span class="btn-flush fs-14" data-bs-toggle="tooltip" data-bs-custom-class="custom-tooltip" data-bs-title="Lorem Ipsum is simply dummy text of the printing and typesetting industry."><i class="fa-solid fa-circle-question"></i></span></label>
          <div class="col-xxl-10 col-md-9">
            <input type="text" class="form-control form-control-sm" id="focusKeyphrase" formControlName="focusKeyphrase">
          </div>
        </div>
        <div class="row g-3 mb-3">
          <label for="metaTitle" class="col-xxl-2 col-md-3 col-form-label col-form-label-sm">Meta Title</label>
          <div class="col-xxl-10 col-md-9">
            <input type="text" class="form-control form-control-sm" id="metaTitle" formControlName="metaTitle">
          </div>
        </div>
        <div class="row g-3 mb-3">
          <label for="slugText" class="col-xxl-2 col-md-3 col-form-label col-form-label-sm">Slug</label>
          <div class="col-xxl-10 col-md-9">
            <input type="text" class="form-control form-control-sm" id="slugText" formControlName="slugText">
          </div>
        </div>
        <div class="row g-3">
          <label for="metaDscr" class="col-xxl-2 col-md-3 col-form-label col-form-label-sm">Meta Description</label>
          <div class="col-xxl-10 col-md-9">
            <textarea class="form-control" rows="5" id="metaDscr" formControlName="metaDscr"></textarea>
          </div>
        </div>
      </div>
    </div>
        </div>
        <div class="col-xxl-3 col-lg-4 add-product-sidebar">
            <div class="mb-30 w-100">
                <a type="button" class="btn btn-primary d-block" (click)="getProductDetails()">Preview Changed</a>
            </div>
          <div class="panel mb-30">
      <div class="panel-header">
        <h5>Published</h5>
        <div class="btn-box d-flex gap-2">
          <button type="button" class="btn btn-sm btn-icon btn-outline-primary"><i class="fa-light fa-arrows-rotate"></i></button>
          <button type="button" class="btn btn-sm btn-icon btn-outline-primary panel-close"><i class="fa-light fa-angle-up"></i></button>
        </div>
      </div>
      <div class="panel-body">
        <div class="row g-3">
          <div class="col-6">
            <label class="form-label">Status</label>
            <select class="form-control form-control-sm" formControlName="status">
              <option value="Published">Published</option>
              <option value="Draft">Draft</option>
            </select>
          </div>
          <div class="col-6">
            <label class="form-label">Visibility</label>
            <select class="form-control form-control-sm" formControlName="visibility">
              <option value="Public">Public</option>
              <option value="PassProtected">Pass. Protected</option>
              <option value="Private">Private</option>
            </select>
          </div>
          <div class="col-12">
            <div class="publish-date">
              <label>Published on: </label>
              <input class="input-flush" type="date" id="publishDate"  formControlName="publishDate">
              <label for="publishDate" class="cursor-pointer text-primary"><i class="fa-light fa-pen-to-square"></i></label>
            </div>
            <!-- <div class="publish-date">
              <label>Published on: </label>
              <input class="input-flush" type="datetime-local" id="publishDate" formControlName="publishDate">
              <label for="publishDate" class="cursor-pointer text-primary"><i class="fa-light fa-pen-to-square"></i></label>
            </div> -->
          </div>
        </div>
      </div>
    </div>
          <div class="panel mb-30">
      <div class="panel-header">
        <h5>Category</h5>
        <div class="btn-box d-flex gap-2">
          <button type="button" class="btn btn-sm btn-icon btn-outline-primary"><i class="fa-light fa-arrows-rotate"></i></button>
          <button type="button" class="btn btn-sm btn-icon btn-outline-primary panel-close"><i class="fa-light fa-angle-up"></i></button>
        </div>
      </div>
      <div class="panel-body">
        <div class="input-group-with-icon mb-20">
          <span class="input-icon"><i class="fa-light fa-magnifying-glass"></i></span>
          <input type="search" placeholder="Search category" class="form-control" formControlName="categorySearch">
        </div>
        <div class="product-categories">
          <!-- Root Categories (parentId: null) -->
          @for (category of categories; track category.id; let i = $index) {
            @if (!category.parentId) {
              <div class="cat-group">
                <div class="form-check">
                  <input class="form-check-input has-sub" type="checkbox" [id]="category.id" [formControlName]="'selectedCategories.' + i">
                  <label class="form-check-label" [for]="category.id">
                    {{ category.name }}
                    @if (category.hasSubCategories) {
                      <span><i class="fa-light fa-plus"></i></span>
                    }
                  </label>
                </div>
                <!-- Sub-categories (Level 1) -->
                <div class="sub-cat-group">
                  @for (subCat of categories; track subCat.id; let j = $index) {
                    @if (subCat.parentId === category.id) {
                      @if (!subCat.hasSubCategories) {
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" [id]="subCat.id" [formControlName]="'selectedCategories.' + j">
                          <label class="form-check-label" [for]="subCat.id">
                            {{ subCat.name }}
                          </label>
                        </div>
                      }
                      @if (subCat.hasSubCategories) {
                        <div class="cat-group">
                          <div class="form-check">
                            <input class="form-check-input has-sub" type="checkbox" [id]="subCat.id" [formControlName]="'selectedCategories.' + j">
                            <label class="form-check-label" [for]="subCat.id">
                              {{ subCat.name }} <span><i class="fa-light fa-plus"></i></span>
                            </label>
                          </div>
                          <!-- Sub-categories (Level 2) -->
                          <div class="sub-cat-group">
                            @for (subSubCat of categories; track subSubCat.id; let k = $index) {
                              @if (subSubCat.parentId === subCat.id) {
                                <div class="form-check">
                                  <input class="form-check-input" type="checkbox" [id]="subSubCat.id" [formControlName]="'selectedCategories.' + k">
                                  <label class="form-check-label" [for]="subSubCat.id">
                                    {{ subSubCat.name }}
                                  </label>
                                </div>
                              }
                            }
                          </div>
                        </div>
                      }
                    }
                  }
                </div>
              </div>
            }
          }
          <!-- Categories without sub-categories (parentId: null, no children) -->
          @for (category of categories; track category.id; let i = $index) {
            @if (!category.parentId && !category.hasSubCategories) {
              <div class="form-check">
                <input class="form-check-input" type="checkbox" [id]="category.id" [formControlName]="'selectedCategories.' + i">
                <label class="form-check-label" [for]="category.id">
                  {{ category.name }}
                </label>
              </div>
            }
          }
        </div>
      </div>
      <div class="border-top"></div>
      <div class="panel-body">
        <div class="d-flex justify-content-end">
          <button type="button" class="btn-flush add-category-btn"><i class="fa-light fa-plus"></i> Add new category</button>
        </div>
        <div class="add-new-category-panel">
          <input type="text" class="form-control form-control-sm mb-3" placeholder="Category Name" formControlName="newCategoryName">
          <select class="form-control form-control-sm mb-3" formControlName="newCategoryParent" data-placeholder="Select Parent">
            <option value="">Select Parent</option>
            @for (category of categories; track category.id) {
              <option [value]="category.id">{{ category.name }}</option>
            }
          </select>
          <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-sm btn-primary" (click)="addNewCategory()">Update</button>
          </div>
        </div>
      </div>
    </div>
      </div>
      <div class="border-top"></div>
      <div class="panel-body">
        <div class="d-flex justify-content-end">
          <button type="button" class="btn-flush add-category-btn"><i class="fa-light fa-plus"></i> Add new category</button>
        </div>
        <div class="add-new-category-panel">
          <input type="text" class="form-control form-control-sm mb-3" placeholder="Category Name" formControlName="newCategoryName">
          <select class="form-control form-control-sm mb-3" formControlName="newCategoryParent" data-placeholder="Select Parent">
            <option value="">Select Parent</option>
            <!-- <option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option> -->
          </select>
          <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-sm btn-primary" (click)="addNewCategory()">Update</button>
          </div>
        </div>
      </div>
    </div>
            <div class="panel">
                <div class="panel-header">
                    <h5>Products Tags</h5>
                    <div class="btn-box d-flex gap-2">
                        <button class="btn btn-sm btn-icon btn-outline-primary"><i class="fa-light fa-arrows-rotate"></i></button>
                        <button class="btn btn-sm btn-icon btn-outline-primary panel-close"><i class="fa-light fa-angle-up"></i></button>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="product-tag-area">
                        <div class="row g-3">
                            <div class="col-9">
                                <input type="text" class="input-flush" id="productTags">
                            </div>
                            <div class="col-3">
                                <button class="btn btn-sm btn-primary w-100" id="addTags">Add</button>
                            </div>
                        </div>
                        <span class="input-txt">Use commas to separate tags</span>
                        <div class="all-tags" id="allTags"></div>
                        <div class="tag-history">
                            <span class="choose-used-tag input-txt">Choose from most use tags</span>
                            <div class="all-tags used-tags active">
                                <div class="item d-inline-block" data-value="mobile">mobile<span class="close-tag"><i class="fa-regular fa-xmark"></i></span></div>
                                <div class="item d-inline-block" data-value="tab">tab<span class="close-tag"><i class="fa-regular fa-xmark"></i></span></div>
                                <div class="item d-inline-block" data-value="watch">watch<span class="close-tag"><i class="fa-regular fa-xmark"></i></span></div>
                                <div class="item d-inline-block" data-value="t-shirt">t-shirt<span class="close-tag"><i class="fa-regular fa-xmark"></i></span></div>
                                <div class="item d-inline-block" data-value="shirt">shirt<span class="close-tag"><i class="fa-regular fa-xmark"></i></span></div>
                                <div class="item d-inline-block" data-value="book">book<span class="close-tag"><i class="fa-regular fa-xmark"></i></span></div>
                                <div class="item d-inline-block" data-value="monitor">monitor<span class="close-tag"><i class="fa-regular fa-xmark"></i></span></div>
                                <div class="item d-inline-block" data-value="cloth">cloth<span class="close-tag"><i class="fa-regular fa-xmark"></i></span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    

    <!-- footer start -->
    <div class="footer">
        <p>Copyright© <script>document.write(new Date().getFullYear())</script> All Rights Reserved By <span class="text-primary">safure</span></p>
    </div>
      </form>
    <!-- footer end -->
</div>
<!-- main content end -->